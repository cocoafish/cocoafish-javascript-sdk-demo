(function(a){a.cors=function(b){b.success=b.success||function(c,d){alert("no success callback specified")};b.error=b.error||function(e,d,c){alert("no fail callback specified")};a.ajax(b)};a.corsSetup=function(b){a.ajaxSetup(b)};a.getCORS=function(c,e,g,d,f,b){options={url:c,type:"GET",data:e,success:g,dataType:d,error:g,headers:f,xhrFields:b};a.cors(options)};a.postCORS=function(c,e,g,d,f,b){options={url:c,type:"POST",data:e,success:g,dataType:d,error:g,headers:f,xhrFields:b};a.cors(options)};a.putCORS=function(c,e,g,d,f,b){options={url:c,type:"PUT",data:e,success:g,dataType:d,error:g,headers:f,xhrFields:b};a.cors(options)};a.deleteCORS=function(c,e,g,d,f,b){options={url:c,type:"DELETE",data:e,success:g,dataType:d,error:g,headers:f,xhrFields:b};a.cors(options)};a.postJSON=function(b,c,d){a.ajaxSetup({contentType:"application/json; charset=utf-8"});a.postCORS(b,JSON.stringify(c),d,"json")};a.putJSON=function(b,c,d){a.ajaxSetup({contentType:"application/json; charset=utf-8"});a.putCORS(b,JSON.stringify(c),d,"json")};a.deleteJSON=function(b,c,d){a.deleteCORS(b,c,d,"json")};a.corsJSON=function(d,c,e,f,b){a.ajaxSetup({error:b,contentType:"application/json; charset=utf-8"});a.cors({type:d,url:c,data:e,dataType:"json",success:f,error:b})}})(jQuery);$.ajaxTransport("+*",function(b,d,c){if(jQuery.browser.msie&&window.XDomainRequest){var a;return{send:function(f,e){a=new XDomainRequest();a.open(b.type,b.url);a.onload=function(){if(this.contentType.match(/\/xml/)){var g=new ActiveXObject("Microsoft.XMLDOM");g.async=false;g.loadXML(this.responseText);e(200,"success",[g])}else{e(200,"success",[this.responseText])}};a.ontimeout=function(){e(408,"error",["Request timed out."])};a.onerror=function(){e(404,"error",["The requested resource could not be found."])};a.send(b.data)},abort:function(){if(a){a.abort()}}}}});jQuery.proxy_xmlhttp=function(v){var e=1500;var h=v||"http://"+window.location.hostname+"/xmlhttp/";this.status=null;this.statusText=null;this.responseText=null;this.responseXML=null;this.synchronous=false;this.readyState=0;this.onreadystatechange=function(){};this.onerror=function(){};this.onload=function(){};this.abort=function(){j=true;t()};this.getAllResponseHeaders=function(){var z="";for(var A in s){z+=A+": "+s[A]+"\r\n"}return z};this.getResponseHeader=function(z){for(var A in s){if(A.toLowerCase()==z.toLowerCase()){return s[A]}}return null};this.overrideMimeType=function(z){i=z};this.open=function(D,A,B,C,z){if(!u(D,A)){return}n=(D)?D:"";k=(A)?A:"";r=(C)?C:"";g=(z)?z:"";b(1)};this.openRequest=function(D,A,B,C,z){return this.open(D,A,B,C,z)};this.send=function(z){if(j){return}var A=m(z);y(A)};this.setRequestHeader=function(z,B){if(j){return}for(var A in d){if(A.toLowerCase()==z.toLowerCase()){d[A]=B;return}}d[z]=B};var n="";var k="";var r="";var g="";var d={"HTTP-Referer":escape(document.location),"Content-Type":"application/x-www-form-urlencoded"};var s={};var i="";var o=this;var c="";var p=[];var j=false;var f=function(z){o.onerror(z);o.abort();return false};var m=function(C){if(!C){C=""}var A="";for(var I in d){A+=I+"="+d[I]+"&"}var H=n+"$"+c+"$"+r+"$"+g+"$"+A+"$"+a(C)+"$"+k;var z=H;var G=e,B=[];var F=Math.floor(z.length/G),D=0;while(z.length>0){var E=h+"?multipart$"+c+"$"+D+++"$"+F+"$"+z.substr(0,G);B.push(E);z=z.substr(G)}if(B.length==1){z=h+"?"+H}else{z=B}return z};var u=function(A,z){if(!A){return f("Please, specify the query method (GET, POST or HEAD)")}if(!z){return f("Please, specify the URL")}if(A.toLowerCase()!="get"&&A.toLowerCase()!="post"&&A.toLowerCase()!="put"&&A.toLowerCase()!="delete"&&A.toLowerCase()!="options"&&A.toLowerCase()!="head"){return f("Please, specify either a GET, POST or a HEAD method")}if(z.toLowerCase().substr(0,7)!="http://"){return f("Only HTTP protocol is supported (http://)")}return true};var y=function(B){if("object"==typeof B){for(var A=0;A<B.length;A++){y(B[A])}return true}var z=document.createElement("script");z.src=B;z.type="text/javascript";if(navigator.userAgent.indexOf("Safari")){z.charset="utf-8"}z=document.getElementsByTagName("head")[0].appendChild(z);p.push(z);return z};var a=function(z){z=escape(z);z=z.replace("+","%2B");return z};var t=function(){for(var z=0;z<p.length;z++){if(p[z].parentNode){p[z].parentNode.removeChild(p[z])}}};var l=function(){c="v"+Math.random().toString().substr(2);window[c]=o};var b=function(z){o.readyState=z;o.onreadystatechange();if(z==4){o.onload()}};var q=function(){var A=o.getResponseHeader("Content-type")+i;if(!(A.indexOf("html")>-1||A.indexOf("xml")>-1)){return}var z;if(document.implementation&&document.implementation.createDocument&&navigator.userAgent.indexOf("Opera")==-1){var B=new DOMParser();z=B.parseFromString(o.responseText,"text/xml");o.responseXML=z}else{if(window.ActiveXObject){z=new ActiveXObject("MSXML2.DOMDocument.3.0");if(z.loadXML(o.responseText)){o.responseXML=z}}else{z=document.body.appendChild(document.createElement("div"));z.style.display="none";z.innerHTML=o.responseText;x(z,true);o.responseXML=z.childNodes[0];document.body.removeChild(z)}}};var x=function(B,z){var A=B.childNodes.length;if(A===0){return}do{var C=B.childNodes[--A];if(C.nodeType==3&&!w(C.nodeValue)){B.removeChild(C)}if(C.nodeType==1&&z){x(C,true)}}while(A>0)};var w=function(z){z=z.replace("\r","");z=z.replace("\n","");z=z.replace(" ","");return(z.length===0)?false:true};this._parse=function(z){if(j){return true}if(z.multipart){return true}if(!z.success){return f(z.description)}s=z.responseHeaders;this.status=z.status;this.statusText=z.statusText;this.responseText=z.responseText;q();t();b(4);return true};l()};function CocoafishWithKey(a){this.key=a}CocoafishWithKey.prototype.createUser=function(a,b){com.cocoafish.js.sdk.createUser(this.key,a,b)};CocoafishWithKey.prototype.loginUser=function(a,b){com.cocoafish.js.sdk.loginUser(this.key,this,a,b)};CocoafishWithKey.prototype.getUserProfile=function(a,b){com.cocoafish.js.sdk.getUserProfile(this.key,a,b)};CocoafishWithKey.prototype.getCurrentUserProfile=function(a){com.cocoafish.js.sdk.getCurrentUserProfile(this.key,a)};CocoafishWithKey.prototype.getUsers=function(b,a){com.cocoafish.js.sdk.getUsers(this.key,b,a)};CocoafishWithKey.prototype.updateUser=function(b,a){com.cocoafish.js.sdk.updateUser(this.key,b,a)};CocoafishWithKey.prototype.logoutUser=function(a){com.cocoafish.js.sdk.logoutUser(this.key,a)};CocoafishWithKey.prototype.deleteUser=function(a){com.cocoafish.js.sdk.deleteUser(this.key,a)};CocoafishWithKey.prototype.linkWithFacebook=function(a,b){com.cocoafish.js.sdk.linkWithFacebook(this.key,a,b)};CocoafishWithKey.prototype.loginWithFacebook=function(a,b){com.cocoafish.js.sdk.loginWithFacebook(this.key,a,b)};CocoafishWithKey.prototype.unlinkFromFacebook=function(a){com.cocoafish.js.sdk.unlinkFromFacebook(this.key,a)};CocoafishWithKey.prototype.createPlace=function(a,b){com.cocoafish.js.sdk.createPlace(this.key,a,b)};CocoafishWithKey.prototype.findPlaces=function(a,b){com.cocoafish.js.sdk.findPlaces(this.key,a,b)};CocoafishWithKey.prototype.getPlace=function(a,b){com.cocoafish.js.sdk.getPlace(this.key,a,b)};CocoafishWithKey.prototype.updatePlace=function(a,b,c){com.cocoafish.js.sdk.updatePlace(this.key,a,c,b)};CocoafishWithKey.prototype.deletePlace=function(a,b){com.cocoafish.js.sdk.deletePlace(this.key,a,b)};CocoafishWithKey.prototype.checkinPlaceOrEvent=function(a,b){com.cocoafish.js.sdk.checkinPlaceOrEvent(this.key,a,b)};CocoafishWithKey.prototype.findCheckins=function(a,b){com.cocoafish.js.sdk.findCheckins(this.key,a,b)};CocoafishWithKey.prototype.getCheckin=function(a,b){com.cocoafish.js.sdk.getCheckin(this.key,a,b)};CocoafishWithKey.prototype.deleteCheckin=function(a,b){com.cocoafish.js.sdk.deleteCheckin(this.key,a,b)};CocoafishWithKey.prototype.createStatus=function(a,b){com.cocoafish.js.sdk.createStatus(this.key,a,b)};CocoafishWithKey.prototype.getUserStatuses=function(a,b){com.cocoafish.js.sdk.getUserStatuses(this.key,a,b)};CocoafishWithKey.prototype.setKeyValue=function(a,b,c){com.cocoafish.js.sdk.setKeyValue(this.key,a,b,c)};CocoafishWithKey.prototype.getKeyValue=function(a,b){com.cocoafish.js.sdk.getKeyValue(this.key,a,b)};CocoafishWithKey.prototype.appendKeyValue=function(a,b,c){com.cocoafish.js.sdk.appendKeyValue(this.key,a,b,c)};CocoafishWithKey.prototype.deleteKeyValue=function(a,b){com.cocoafish.js.sdk.deleteKeyValue(this.key,a,b)};CocoafishWithKey.prototype.createEvent=function(a,b){com.cocoafish.js.sdk.createEvent(this.key,a,b)};CocoafishWithKey.prototype.getEvent=function(a,b){com.cocoafish.js.sdk.getEvent(this.key,a,b)};CocoafishWithKey.prototype.findEvents=function(a,b){com.cocoafish.js.sdk.findEvents(this.key,a,b)};CocoafishWithKey.prototype.updateEvent=function(a,b,c){com.cocoafish.js.sdk.updateEvent(this.key,a,b,c)};CocoafishWithKey.prototype.deleteEvent=function(a,b){com.cocoafish.js.sdk.deleteEvent(this.key,a,b)};CocoafishWithKey.prototype.createMessage=function(a,b){com.cocoafish.js.sdk.createMessage(this.key,a,b)};CocoafishWithKey.prototype.replyMessage=function(b,a,c){com.cocoafish.js.sdk.replyMessage(this.key,b,a,c)};CocoafishWithKey.prototype.getMessage=function(a,b){com.cocoafish.js.sdk.getMessage(this.key,a,b)};CocoafishWithKey.prototype.getInboxMessages=function(a,b){com.cocoafish.js.sdk.getInboxMessages(this.key,a,b)};CocoafishWithKey.prototype.getSentMessages=function(a,b){com.cocoafish.js.sdk.getSentMessages(this.key,a,b)};CocoafishWithKey.prototype.getMessageThreads=function(a,b){com.cocoafish.js.sdk.getMessageThreads(this.key,a,b)};CocoafishWithKey.prototype.getThreadMessages=function(c,a,b){com.cocoafish.js.sdk.getThreadMessages(this.key,c,a,b)};CocoafishWithKey.prototype.deleteMessage=function(a,b){com.cocoafish.js.sdk.deleteMessage(this.key,a,b)};CocoafishWithKey.prototype.uploadPhoto=function(a,b){com.cocoafish.js.sdk.uploadPhoto(this.key,a,b)};CocoafishWithKey.prototype.getPhoto=function(a,b){com.cocoafish.js.sdk.getPhoto(this.key,a,b)};CocoafishWithKey.prototype.findPhotos=function(a,b){com.cocoafish.js.sdk.findPhotos(this.key,a,b)};CocoafishWithKey.prototype.deletePhoto=function(a,b){com.cocoafish.js.sdk.deletePhoto(this.key,a,b)};var com;if(!com){com={}}if(!com.cocoafish){com.cocoafish={}}if(!com.cocoafish.constants){com.cocoafish.constants={}}if(!com.cocoafish.js){com.cocoafish.js={}}if(!com.cocoafish.js.sdk){com.cocoafish.js.sdk={}}if(!com.cocoafish.js.sdk.utils){com.cocoafish.js.sdk.utils={}}if(!com.cocoafish.api){com.cocoafish.api={}}if(!com.cocoafish.api.users){com.cocoafish.api.users={}}if(!com.cocoafish.api.facebook){com.cocoafish.api.facebook={}}if(!com.cocoafish.api.places){com.cocoafish.api.places={}}if(!com.cocoafish.api.checkins){com.cocoafish.api.checkins={}}if(!com.cocoafish.api.status){com.cocoafish.api.status={}}if(!com.cocoafish.api.keyvalues){com.cocoafish.api.keyvalues={}}if(!com.cocoafish.api.events){com.cocoafish.api.events={}}if(!com.cocoafish.api.messages){com.cocoafish.api.messages={}}if(!com.cocoafish.api.photos){com.cocoafish.api.photos={}}com.cocoafish.api.users.createUser="http://api.cocoafish.com/v1/users/create.json";com.cocoafish.api.users.loginUser="http://api.cocoafish.com/v1/users/login.json";com.cocoafish.api.users.showUserProfile="http://api.cocoafish.com/v1/users/show/<id>.json";com.cocoafish.api.users.showCurrentUser="http://api.cocoafish.com/v1/users/show/me.json";com.cocoafish.api.users.searchUsers="http://api.cocoafish.com/v1/users/search.json";com.cocoafish.api.users.updateUser="http://api.cocoafish.com/v1/users/update.json";com.cocoafish.api.users.logoutUser="http://api.cocoafish.com/v1/users/logout.json";com.cocoafish.api.users.deleteUser="http://api.cocoafish.com/v1/users/delete.json";com.cocoafish.api.facebook.linkWithFacebook="http://api.cocoafish.com/v1/social/facebook/link.json";com.cocoafish.api.facebook.loginWithFacebook="http://api.cocoafish.com/v1/social/facebook/login.json";com.cocoafish.api.facebook.unlinkFromFacebook="http://api.cocoafish.com/v1/social/facebook/unlink.json";com.cocoafish.api.places.createPlace="http://api.cocoafish.com/v1/places/create.json";com.cocoafish.api.places.findPlaces="http://api.cocoafish.com/v1/places/search.json";com.cocoafish.api.places.getPlace="http://api.cocoafish.com/v1/places/show/<id>.json";com.cocoafish.api.places.updatePlace="http://api.cocoafish.com/v1/places/update/<id>.json";com.cocoafish.api.places.deletePlace="http://api.cocoafish.com/v1/places/delete/<id>.json";com.cocoafish.api.checkins.checkinPlaceOrEvent="http://api.cocoafish.com/v1/checkins/create.json";com.cocoafish.api.checkins.findCheckins="http://api.cocoafish.com/v1/checkins/search.json";com.cocoafish.api.checkins.getCheckin="http://api.cocoafish.com/v1/checkins/show/<id>.json";com.cocoafish.api.checkins.deleteCheckin="http://api.cocoafish.com/v1/checkins/delete/<id>.json";com.cocoafish.api.status.createStatus="http://api.cocoafish.com/v1/statuses/create.json";com.cocoafish.api.status.getUserStatuses="http://api.cocoafish.com/v1/statuses/search.json";com.cocoafish.api.keyvalues.setKeyValue="http://api.cocoafish.com/v1/keyvalues/set.json";com.cocoafish.api.keyvalues.getKeyValue="http://api.cocoafish.com/v1/keyvalues/get.json";com.cocoafish.api.keyvalues.appendKeyValue="http://api.cocoafish.com/v1/keyvalues/append.json";com.cocoafish.api.keyvalues.deleteKeyValue="http://api.cocoafish.com/v1/keyvalues/delete.json";com.cocoafish.api.events.createEvent="http://api.cocoafish.com/v1/events/create.json";com.cocoafish.api.events.getEvent="http://api.cocoafish.com/v1/events/show/<id>.json";com.cocoafish.api.events.findEvents="http://api.cocoafish.com/v1/events/search.json";com.cocoafish.api.events.updateEvent="http://api.cocoafish.com/v1/events/update/<id>.json";com.cocoafish.api.events.deleteEvent="http://api.cocoafish.com/v1/events/delete/<id>.json";com.cocoafish.api.messages.createMessage="http://api.cocoafish.com/v1/messages/create.json";com.cocoafish.api.messages.replyMessage="http://api.cocoafish.com/v1/messages/reply/<id>.json";com.cocoafish.api.messages.getMessage="http://api.cocoafish.com/v1/messages/show/<id>.json";com.cocoafish.api.messages.getInboxMessages="http://api.cocoafish.com/v1/messages/show/inbox.json";com.cocoafish.api.messages.getSentMessages="http://api.cocoafish.com/v1/messages/show/sent.json";com.cocoafish.api.messages.getMessageThreads="http://api.cocoafish.com/v1/messages/show/threads.json";com.cocoafish.api.messages.getThreadMessages="http://api.cocoafish.com/v1/messages/show/thread/<id>.json";com.cocoafish.api.messages.deleteMessage="http://api.cocoafish.com/v1/messages/delete/<id>.json";com.cocoafish.api.photos.uploadPhoto="http://api.cocoafish.com/v1/photos/create.json";com.cocoafish.api.photos.getPhoto="http://api.cocoafish.com/v1/photos/show/<id>.json";com.cocoafish.api.photos.findPhotos="http://api.cocoafish.com/v1/photos/search.json";com.cocoafish.api.photos.deletePhoto="http://api.cocoafish.com/v1/photos/delete/<id>.json";com.cocoafish.constants.keyparam="?key=";com.cocoafish.constants.json="json";com.cocoafish.constants.id="<id>";com.cocoafish.constants.sessionId="_session_id";com.cocoafish.constants.sessionCookieName="Cookie";com.cocoafish.constants.responseCookieName="Set-Cookie";com.cocoafish.constants.safari="Safari";com.cocoafish.js.sdk.checkinPlaceOrEvent=function(d,b,c){var a=com.cocoafish.api.checkins.checkinPlaceOrEvent+com.cocoafish.js.sdk.utils.getSessionParams(d);$.postCORS(a,b,c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.findCheckins=function(d,b,c){var a=com.cocoafish.api.checkins.findCheckins+com.cocoafish.js.sdk.utils.getSessionParams(d);$.getCORS(a,b,c,com.cocoafish.constants.json)};com.cocoafish.js.sdk.getCheckin=function(d,b,c){var a=com.cocoafish.api.checkins.getCheckin+com.cocoafish.js.sdk.utils.getSessionParams(d);a=a.replace(com.cocoafish.constants.id,b);$.getCORS(a,{},c,com.cocoafish.constants.json)};com.cocoafish.js.sdk.deleteCheckin=function(d,b,c){var a=com.cocoafish.api.checkins.deleteCheckin+com.cocoafish.js.sdk.utils.getSessionParams(d);a=a.replace(com.cocoafish.constants.id,b);$.deleteCORS(a,{},c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.createEvent=function(d,b,c){var a=com.cocoafish.api.events.createEvent+com.cocoafish.js.sdk.utils.getSessionParams(d);$.postCORS(a,b,c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.getEvent=function(d,b,c){var a=com.cocoafish.api.events.getEvent+com.cocoafish.js.sdk.utils.getSessionParams(d);a=a.replace(com.cocoafish.constants.id,b);$.getCORS(a,{},c,com.cocoafish.constants.json)};com.cocoafish.js.sdk.findEvents=function(d,b,c){var a=com.cocoafish.api.events.findEvents+com.cocoafish.js.sdk.utils.getSessionParams(d);$.getCORS(a,b,c,com.cocoafish.constants.json)};com.cocoafish.js.sdk.updateEvent=function(e,b,c,d){var a=com.cocoafish.api.events.updateEvent+com.cocoafish.js.sdk.utils.getSessionParams(e);a=a.replace(com.cocoafish.constants.id,b);$.putCORS(a,c,d,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.deleteEvent=function(d,b,c){var a=com.cocoafish.api.events.deleteEvent+com.cocoafish.js.sdk.utils.getSessionParams(d);a=a.replace(com.cocoafish.constants.id,b);$.deleteCORS(a,{},c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.setKeyValue=function(e,b,c,d){var a=com.cocoafish.api.keyvalues.setKeyValue+com.cocoafish.js.sdk.utils.getSessionParams(e);$.putCORS(a,{name:b,value:c},d,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.getKeyValue=function(d,b,c){var a=com.cocoafish.api.keyvalues.getKeyValue+com.cocoafish.js.sdk.utils.getSessionParams(d);$.getCORS(a,{name:b},c,com.cocoafish.constants.json)};com.cocoafish.js.sdk.appendKeyValue=function(e,b,c,d){var a=com.cocoafish.api.keyvalues.appendKeyValue+com.cocoafish.js.sdk.utils.getSessionParams(e);$.putCORS(a,{name:b,value:c},d,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.deleteKeyValue=function(d,b,c){var a=com.cocoafish.api.keyvalues.deleteKeyValue+com.cocoafish.js.sdk.utils.getSessionParams(d);$.deleteCORS(a,{name:b},c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.createMessage=function(d,b,c){var a=com.cocoafish.api.messages.createMessage+com.cocoafish.js.sdk.utils.getSessionParams(d);$.postCORS(a,b,c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.replyMessage=function(e,c,a,d){var b=com.cocoafish.api.messages.replyMessage+com.cocoafish.js.sdk.utils.getSessionParams(e);b=b.replace(com.cocoafish.constants.id,c);$.postCORS(b,{body:a},d,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.getMessage=function(d,b,c){var a=com.cocoafish.api.messages.getMessage+com.cocoafish.js.sdk.utils.getSessionParams(d);a=a.replace(com.cocoafish.constants.id,b);$.getCORS(a,{},c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.getInboxMessages=function(d,b,c){var a=com.cocoafish.api.messages.getInboxMessages+com.cocoafish.js.sdk.utils.getSessionParams(d);$.getCORS(a,b,c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.getSentMessages=function(d,b,c){var a=com.cocoafish.api.messages.getSentMessages+com.cocoafish.js.sdk.utils.getSessionParams(d);$.getCORS(a,b,c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.getMessageThreads=function(d,b,c){var a=com.cocoafish.api.messages.getMessageThreads+com.cocoafish.js.sdk.utils.getSessionParams(d);$.getCORS(a,b,c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.getThreadMessages=function(e,d,b,c){var a=com.cocoafish.api.messages.getThreadMessages+com.cocoafish.js.sdk.utils.getSessionParams(e);a=a.replace(com.cocoafish.constants.id,d);$.getCORS(a,b,c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.deleteMessage=function(d,b,c){var a=com.cocoafish.api.messages.deleteMessage+com.cocoafish.js.sdk.utils.getSessionParams(d);a=a.replace(com.cocoafish.constants.id,b);$.deleteCORS(a,{},c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.uploadPhoto=function(d,b,c){var a=com.cocoafish.api.photos.uploadPhoto+com.cocoafish.js.sdk.utils.getSessionParams(d);$.postCORS(a,b,c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.getPhoto=function(d,a,c){var b=com.cocoafish.api.photos.getPhoto+com.cocoafish.js.sdk.utils.getSessionParams(d);b=b.replace(com.cocoafish.constants.id,a);$.getCORS(b,{},c,com.cocoafish.constants.json)};com.cocoafish.js.sdk.findPhotos=function(d,b,c){var a=com.cocoafish.api.photos.findPhotos+com.cocoafish.js.sdk.utils.getSessionParams(d);$.getCORS(a,b,c,com.cocoafish.constants.json)};com.cocoafish.js.sdk.deletePhoto=function(d,a,c){var b=com.cocoafish.api.photos.deletePhoto+com.cocoafish.js.sdk.utils.getSessionParams(d);b=b.replace(com.cocoafish.constants.id,a);$.deleteCORS(b,{},c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.createPlace=function(d,b,c){var a=com.cocoafish.api.places.createPlace+com.cocoafish.js.sdk.utils.getSessionParams(d);$.postCORS(a,b,c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.findPlaces=function(d,b,c){var a=com.cocoafish.api.places.findPlaces+com.cocoafish.js.sdk.utils.getSessionParams(d);$.getCORS(a,b,c,com.cocoafish.constants.json)};com.cocoafish.js.sdk.getPlace=function(d,b,c){var a=com.cocoafish.api.places.getPlace+com.cocoafish.js.sdk.utils.getSessionParams(d);a=a.replace(com.cocoafish.constants.id,b);$.getCORS(a,"",c,com.cocoafish.constants.json)};com.cocoafish.js.sdk.updatePlace=function(e,b,d,c){var a=com.cocoafish.api.places.updatePlace+com.cocoafish.js.sdk.utils.getSessionParams(e);a=a.replace(com.cocoafish.constants.id,b);$.putCORS(a,c,d,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.deletePlace=function(d,b,c){var a=com.cocoafish.api.places.deletePlace+com.cocoafish.js.sdk.utils.getSessionParams(d);a=a.replace(com.cocoafish.constants.id,b);$.deleteCORS(a,{},c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.linkWithFacebook=function(d,b,c){var a=com.cocoafish.api.facebook.linkWithFacebook+com.cocoafish.js.sdk.utils.getSessionParams(d);$.postCORS(a,b,c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.loginWithFacebook=function(d,b,c){var a=com.cocoafish.api.facebook.loginWithFacebook+com.cocoafish.js.sdk.utils.getSessionParams(d);$.postCORS(a,b,c,com.cocoafish.constants.json)};com.cocoafish.js.sdk.unlinkFromFacebook=function(c,b){var a=com.cocoafish.api.facebook.unlinkFromFacebook+com.cocoafish.js.sdk.utils.getSessionParams(c);$.getCORS(a,"",b,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.createStatus=function(d,b,c){var a=com.cocoafish.api.status.createStatus+com.cocoafish.js.sdk.utils.getSessionParams(d);$.postCORS(a,{message:b},c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.getUserStatuses=function(d,b,c){var a=com.cocoafish.api.status.getUserStatuses+com.cocoafish.js.sdk.utils.getSessionParams(d);$.getCORS(a,b,c,com.cocoafish.constants.json)};com.cocoafish.js.sdk.createUser=function(d,b,c){var a=com.cocoafish.api.users.createUser+com.cocoafish.js.sdk.utils.getSessionParams(d);$.postCORS(a,b,function(f,e,h){if(f&&f.meta&&f.meta.session_id){var g=f.meta.session_id;com.cocoafish.js.sdk.utils.setCookie(com.cocoafish.constants.sessionId,g)}c(f)},com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.loginUser=function(e,c,b,d){var a=com.cocoafish.api.users.loginUser+com.cocoafish.js.sdk.utils.getSessionParams(e);$.postCORS(a,b,function(g,f,i){if(g&&g.meta&&g.meta.session_id){var h=g.meta.session_id;com.cocoafish.js.sdk.utils.setCookie(com.cocoafish.constants.sessionId,h)}d(g)},com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.getUserProfile=function(d,b,c){var a=com.cocoafish.api.users.showUserProfile+com.cocoafish.js.sdk.utils.getSessionParams(d);a=a.replace(com.cocoafish.constants.id,b);$.getCORS(a,"",c,com.cocoafish.constants.json)};com.cocoafish.js.sdk.getCurrentUserProfile=function(c,b){var a=com.cocoafish.api.users.showCurrentUser+com.cocoafish.js.sdk.utils.getSessionParams(c);$.getCORS(a,"",b,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.getUsers=function(d,c,b){var a=com.cocoafish.api.users.searchUsers+com.cocoafish.js.sdk.utils.getSessionParams(d);$.getCORS(a,b,c,com.cocoafish.constants.json)};com.cocoafish.js.sdk.updateUser=function(d,c,b){var a=com.cocoafish.api.users.updateUser+com.cocoafish.js.sdk.utils.getSessionParams(d);$.putCORS(a,b,c,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.logoutUser=function(c,b){var a=com.cocoafish.api.users.logoutUser+com.cocoafish.js.sdk.utils.getSessionParams(c);$.getCORS(a,"",function(d){if(d&&d.meta&&d.meta.code==200){com.cocoafish.js.sdk.utils.deleteCookie(com.cocoafish.constants.sessionId)}b(d)},com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.deleteUser=function(c,b){var a=com.cocoafish.api.users.deleteUser+com.cocoafish.js.sdk.utils.getSessionParams(c);$.deleteCORS(a,"",b,com.cocoafish.constants.json,{},{withCredentials:true})};com.cocoafish.js.sdk.utils.getSessionParams=function(c){var a=com.cocoafish.constants.keyparam+c;var b=com.cocoafish.js.sdk.utils.getCookie(com.cocoafish.constants.sessionId);if(b){a+="&"+com.cocoafish.constants.sessionId+"="+b}return a};com.cocoafish.js.sdk.utils.BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(d){for(var a=0;a<d.length;a++){var b=d[a].string;var c=d[a].prop;this.versionSearchString=d[a].versionSearch||d[a].identity;if(b){if(b.indexOf(d[a].subString)!=-1){return d[a].identity}}else{if(c){return d[a].identity}}}},searchVersion:function(b){var a=b.indexOf(this.versionSearchString);if(a==-1){return}return parseFloat(b.substring(a+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};com.cocoafish.js.sdk.utils.BrowserDetect.init();com.cocoafish.js.sdk.utils.getCookie=function(a){var g=document.cookie.split(";");var c="";var e="";var f="";var d=false;var b="";for(b=0;b<g.length;b++){c=g[b].split("=");e=c[0].replace(/^\s+|\s+$/g,"");if(e==a){d=true;if(c.length>1){f=unescape(c[1].replace(/^\s+|\s+$/g,""))}return f;break}c=null;e=""}if(!d){return null}};com.cocoafish.js.sdk.utils.setCookie=function(c,e,a,h,d,g){var b=new Date();b.setTime(b.getTime());if(a){a=a*1000*60*60*24}var f=new Date(b.getTime()+(a));document.cookie=c+"="+escape(e)+((a)?";expires="+f.toGMTString():"")+((h)?";path="+h:"")+((d)?";domain="+d:"")+((g)?";secure":"")};com.cocoafish.js.sdk.utils.deleteCookie=function(a,c,b){if(com.cocoafish.js.sdk.utils.getCookie(a)){document.cookie=a+"="+((c)?";path="+c:"")+((b)?";domain="+b:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT"}};